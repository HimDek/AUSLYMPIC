{% extends "skeleton.html" %}
{% load static %}

{% block content %}
<div class="offcanvas offcanvas-end bg-body" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header px-5 pt-4 mt-2">
        <h5 class="offcanvas-title fw-bold fs-4 text-uppercase mt-2" id="offcanvasRightLabel">SPORTS</h5>
        <button id="close-sidebar" type="button" class="btn-close" data-bs-dismiss="offcanvas"
            aria-label="Close"></button>
    </div>
    <div class="offcanvas-body px-5">
        <ul class="navbar-nav">
            {% if show_participants %}
            <li class="nav-item my-3">
                <a class="icon-link link-body-emphasis d-flex align-items-center text-uppercase" onclick="hideBars();"
                    target="_blank" href="{% url 'teams' %}">
                    <h4 class="mb-0">
                        PARTICIPANTS
                    </h4>
                    <i class="bi bi-link-45deg fs-4"></i>
                </a>
            </li>
            {% endif %}
            {% for group in groups %}
            <li class="nav-item my-2">
                <a id="click-group-{{ group.id }}" class="d-none" href="{% url 'home' %}#group-{{ group.id }}"></a>
                <span class="nav-link active fs-5 text-uppercase" style="cursor: pointer;" onclick="hideBars('click-group-{{ group.id }}');">
                    {{ group.sub }} {{ group.name }}
                </span>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>

<nav id="navbar" class="navbar navbar-expand-lg bg-body w-100 fixed-top" style="height: 6.5rem;">
    <div class="container-fluid bg-body px-4">
        <a class="navbar-brand mx-3 fs-3" href="{% url 'home' %}">
            <img src="{% static 'logo.png' %}" style="height: 80px;" alt="logo" />
        </a>
        <button id="nav-menu" class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav m-3 w-100">
                <li class="nav-item mx-2">
                    <a class="nav-link active fs-5 text-uppercase" aria-current="page" href="{% url 'home' %}">HOME</a>
                </li>
                <li class="nav-item mx-2">
                    <a class="nav-link active fs-5 text-uppercase" href="{% url 'leaderboard' %}">LEADERBOARD</a>
                </li>
                <li class="nav-item mx-2">
                    <a class="nav-link active fs-5 text-uppercase" href="{% url 'notices' %}">NOTICES</a>
                </li>
                <li class="nav-item mx-2 me-auto">
                    <a class="nav-link active fs-5 text-uppercase" href="{% url 'merchandise' %}">MERCHANDISE</a>
                </li>
                <li class="nav-item mx-2">
                    <a class="nav-link active fs-5 text-uppercase" data-bs-toggle="offcanvas" href="#offcanvasRight"
                        role="button" aria-controls="offcanvasRight">
                        SPORTS
                    </a>
                </li>
                <li class="nav-item mx-2">
                    <div class="d-flex gap-2 align-items-center justify-content-center">
                        <a class="nav-link active fs-5 text-uppercase mx-3 mx-lg-0" target="blank"
                            href="https://chat.whatsapp.com/G0C3hCEk14p6AUVvz943OM">
                            <i class="bi bi-whatsapp"></i>
                        </a>
                        <a class="nav-link active fs-5 text-uppercase mx-3 mx-lg-0" target="blank"
                            href="https://www.instagram.com/auslympic2024?igsh=YzljYTk1ODg3Zg==">
                            <i class="bi bi-instagram"></i>
                        </a>
                        <a class="nav-link active fs-5 text-uppercase mx-3 mx-lg-0" target="blank"
                            href="mailto:help@auslympic.info">
                            <i class="bi bi-envelope-at"></i>
                        </a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

{% block body %}{% endblock %}

<footer class="position-relative z-1 px-4 px-sm-5 pt-5 bg-body">
    <div
        class="py-5 row gap-4 flex-md-row-reverse justify-content-center justify-content-md-between align-items-center">
        <div class="col-10 col-sm-8 col-md-4 col-lg-4 py-2 d-flex flex-column align-items-center">
            <img src="{% static 'logo.png' %}" class="w-100" alt="logo" />
        </div>
        <div class="col-10 col-md-7 col-lg-7 p-4 text-center text-md-start">
            <h1 id="contact" class="display-6 pt-2 mt-3 w-100">Follow Us</h1>
            <ul class="list-unstyled d-flex mt-2 mb-4 pb-3 justify-content-center justify-content-md-start">
                <li class="mx-3 mx-md-0 me-md-4">
                    <a class="link-body-emphasis" target="blank"
                        href="https://chat.whatsapp.com/G0C3hCEk14p6AUVvz943OM">
                        <i class="bi bi-whatsapp fs-2"></i>
                    </a>
                </li>
                <li class="mx-3 mx-md-0 me-md-4">
                    <a class="link-body-emphasis" target="blank"
                        href="https://www.instagram.com/auslympic2024?igsh=YzljYTk1ODg3Zg==">
                        <i class="bi bi-instagram fs-2"></i>
                    </a>
                </li>
                <li class="mx-3 mx-md-0 me-md-4">
                    <a class="link-body-emphasis" target="blank" href="mailto:help@auslympic.info">
                        <i class="bi bi-envelope-at fs-2"></i>
                    </a>
                </li>
            </ul>
            <figure class="my-3 py-2">
                <blockquote class="blockquote">
                    <p>Organized by Thakur Hrishiraj Singh</p>
                </blockquote>
                <figcaption class="blockquote-footer">
                    Sports Secratary, <cite title="Source Title">Assam University Students Union
                        2024-25</cite>
                </figcaption>
            </figure>
            <div class="lead my-3 py-2">
                Website Developed by
                <a class="link-body-emphasis" target="blank" href="http://himdek.com">
                    <i>Himprakash Deka</i>
                </a>
            </div>
        </div>
    </div>

    <ul class="nav justify-content-center mb-3">
        <li class="nav-item"><a href="{% url 'home' %}" class="nav-link px-2 text-body-secondary">Home</a></li>
        <li class="nav-item"><a href="{% url 'leaderboard' %}" class="nav-link px-2 text-body-secondary">Leaderboard</a>
        </li>
        <li class="nav-item"><a href="{% url 'notices' %}" class="nav-link px-1 text-body-secondary">Notices</a>
        </li>
        <li class="nav-item"><a href="{% url 'merchandise' %}" class="nav-link px-2 text-body-secondary">Merchandise</a>
        </li>
    </ul>

    <div class="d-flex justify-content-center py-4 border-top">
        <small>Â© 2024 AUSLYMPIC, Assam University, Silchar. All rights reserved.</small>
    </div>
</footer>

<script>
    function hideBars(id) {
        document.getElementById('close-sidebar').click();
        setTimeout(() => {
            document.getElementById('nav-menu').click();
            setTimeout(() => {
                document.getElementById(id).click();
            }, 300);
        }, 300);
    }

    let lastScrollY = window.pageYOffset;
    const navbar = document.querySelector('#navbar');

    window.addEventListener('scroll', () => {
        const currentScrollY = window.pageYOffset;
        if (currentScrollY > lastScrollY) {
            navbar.classList.add('translate-up');
        } else {
            navbar.classList.remove('translate-up');
        }

        lastScrollY = currentScrollY;
    });
</script>
{% endblock %}